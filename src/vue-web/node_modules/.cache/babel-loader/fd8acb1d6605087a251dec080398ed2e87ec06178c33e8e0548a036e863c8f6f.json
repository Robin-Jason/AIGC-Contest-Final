{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { login } from \"@/api/login\";\nimport { setToken } from \"@/utils/auth\";\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      },\n      rememberMe: false,\n      showPassword: false,\n      loading: false\n    };\n  },\n  methods: {\n    togglePasswordVisibility() {\n      this.showPassword = !this.showPassword;\n    },\n    do_login() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          // 登录处理逻辑中增加网络请求\n          login(this.loginForm.username, this.loginForm.password).then(res => {\n            console.log(res); // 打印后端返回的数据\n            setToken(res.data.accessToken); // res.data.accessToken是从后端接口返回的token\n            this.$router.push({\n              path: '/'\n            });\n          }).catch(() => {\n            // 登录失败，显示错误提示\n            this.$message.error('用户名或密码错误');\n            this.loading = false;\n          });\n        }\n      });\n    },\n    goToRegister() {\n      this.$router.push({\n        path: '/register'\n      });\n    }\n  }\n};","map":{"version":3,"names":["login","setToken","data","loginForm","username","password","rules","required","message","trigger","rememberMe","showPassword","loading","methods","togglePasswordVisibility","do_login","$refs","form","validate","valid","then","res","console","log","accessToken","$router","push","path","catch","$message","error","goToRegister"],"sources":["src/views/Common/Login.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <main>\n      <div class=\"form\">\n        <h2>Log in</h2>\n        <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"form\" class=\"login-form\">\n          <el-form-item prop=\"username\">\n            <div class=\"input-field\">\n              <i class=\"fas fa-user\"></i>\n              <el-input type=\"text\" v-model=\"loginForm.username\" placeholder=\"Username\"></el-input>\n            </div>\n          </el-form-item>\n          <el-form-item prop=\"password\">\n            <div class=\"input-field\">\n              <i class=\"fas fa-lock\"></i>\n              <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"Password\" :show-password=\"showPassword\"></el-input>\n              <i class=\"showHidePassword\" @click=\"togglePasswordVisibility\"></i>\n            </div>\n          </el-form-item>\n          <div class=\"checkbox-text\">\n            <div class=\"checkbox-content\">\n              <el-checkbox v-model=\"rememberMe\">Remember me</el-checkbox>\n            </div>\n            <a href=\"#\" class=\"forgot-password\">Forgot password?</a>\n          </div>\n          <div class=\"button\">\n            <el-button type=\"primary\" @click=\"do_login\" :loading=\"loading\">Log in</el-button>\n          </div>\n          <p>Don't have an account yet? <a href=\"#\" @click.prevent=\"goToRegister\">Sign up</a></p>\n        </el-form>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { login } from \"@/api/login\";\nimport { setToken } from \"@/utils/auth\";\n\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\n      },\n      rememberMe: false,\n      showPassword: false,\n      loading: false\n    };\n  },\n  methods: {\n    togglePasswordVisibility() {\n      this.showPassword = !this.showPassword;\n    },\n    do_login() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          // 登录处理逻辑中增加网络请求\n          login(this.loginForm.username, this.loginForm.password)\n              .then(res => {\n                console.log(res); // 打印后端返回的数据\n                setToken(res.data.accessToken); // res.data.accessToken是从后端接口返回的token\n                this.$router.push({ path: '/' });\n              })\n              .catch(() => {\n                // 登录失败，显示错误提示\n                this.$message.error('用户名或密码错误');\n                this.loading = false;\n              });\n        }\n      });\n    },\n    goToRegister() {\n      this.$router.push({ path: '/register' });\n    }\n  }\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap\");\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: \"Poppins\", sans-serif;\n}\n\nhtml, body {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  height: 100%;\n}\n\nmain {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: url(../../assets/LoginBg.png) no-repeat center center fixed;\n  background-size: cover;\n  margin: 0;\n  padding: 0;\n}\n\nmain::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(transparent, rgba(0, 0, 0, 0.1));\n  backdrop-filter: blur(5px); /* 添加这一行来实现模糊效果 */\n}\n\nheader {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  padding: 20px 100px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 99;\n}\n\n@media screen and (max-width: 990px) {\n  .logo img {\n    display: none;\n  }\n  .navigation {\n    margin: 0 auto;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .logo img {\n    display: none;\n  }\n  .navigation {\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n  }\n  .navigation a {\n    margin-top: 10px;\n  }\n}\n\n.logo {\n  user-select: none;\n}\n\n.navigation a {\n  position: relative;\n  font-size: 1.1em;\n  color: #ffa500;\n  text-decoration: none;\n  font-weight: 500;\n  margin-left: 20px;\n}\n\n.navigation a::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  bottom: -6px;\n  width: 100%;\n  height: 3px;\n  background: #333;\n  transform-origin: right;\n  transform: scaleX(0);\n  transition: transform 0.5s;\n}\n\n.navigation a:hover::after {\n  transform: scaleX(1);\n}\n\n.form {\n  position: relative;\n  padding: 40px 30px;\n  background-color: rgba(46, 43, 43, 0.222);\n  box-shadow: 0 0 10px;\n  border-radius: 20px;\n}\n\n.form h2,\np,\n.checkbox-content label,\n.input-field::placeholder {\n  color: #fff;\n}\n\n.form a {\n  color: #fff;\n}\n\n.input-field {\n  position: relative;\n  height: 50px;\n  width: 100%;\n  margin-top: 30px;\n}\n\n.input-field input {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  padding: 0 35px;\n  border: none;\n  outline: none;\n  font-size: 16px;\n  border-bottom: 2px solid #ccc;\n  border-top: 2px solid transparent;\n  transition: all 0.2s ease;\n}\n\ninput[type=\"text\"],\ninput[type=\"password\"] {\n  background-color: transparent;\n}\n\n.input-field i {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #ffffff;\n  font-size: 23px;\n  transition: all 0.2s ease;\n}\n\n.input-field i.showHidePassword {\n  right: 0;\n  cursor: pointer;\n  padding: 10px;\n}\n\n.form .checkbox-text {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 20px;\n}\n\n.form .button button {\n  height: 50px;\n  width: 350px;\n  display: block;\n  margin-right: auto;\n  margin-left: auto;\n  align-items: center;\n  border: none;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 500;\n  letter-spacing: 1px;\n  border-radius: 6px;\n  background-color: #ffa500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.button button:hover {\n  background-color: #333;\n}\n</style>"],"mappings":";AAoCA,SAAAA,KAAA;AACA,SAAAC,QAAA;AAEA;EACAC,KAAA;IACA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,QAAA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAJ,QAAA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;MACAC,UAAA;MACAC,YAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,yBAAA;MACA,KAAAH,YAAA,SAAAA,YAAA;IACA;IACAI,SAAA;MACA,KAAAC,KAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAP,OAAA;UACA;UACAZ,KAAA,MAAAG,SAAA,CAAAC,QAAA,OAAAD,SAAA,CAAAE,QAAA,EACAe,IAAA,CAAAC,GAAA;YACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;YACApB,QAAA,CAAAoB,GAAA,CAAAnB,IAAA,CAAAsB,WAAA;YACA,KAAAC,OAAA,CAAAC,IAAA;cAAAC,IAAA;YAAA;UACA,GACAC,KAAA;YACA;YACA,KAAAC,QAAA,CAAAC,KAAA;YACA,KAAAlB,OAAA;UACA;QACA;MACA;IACA;IACAmB,aAAA;MACA,KAAAN,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}