{"ast":null,"code":"import axios from 'axios';\nimport { getAccessToken } from '@/utils/auth';\nconst service = axios.create({\n  // baseURL: 'https://mock.apifox.cn/m1/2428381-0-default/admin-api',\n  baseURL: '/api',\n  timeout: 10000\n});\nservice.interceptors.request.use(config => {\n  // 在请求发送之前对请求数据进行处理\n  if (getAccessToken()) {\n    config.headers['Authorization'] = 'Bearer ' + getAccessToken(); // 携带token\n  }\n  return config;\n}, error => {\n  // 对请求错误做些什么\n  console.log(error);\n  return Promise.reject(error);\n});\nservice.interceptors.response.use(response => {\n  // 对响应数据进行处理\n  // ...\n\n  return response.data;\n}, error => {\n  // 对响应错误做些什么\n  console.log(error);\n  return Promise.reject(error);\n});\nexport default service;","map":{"version":3,"names":["axios","getAccessToken","service","create","baseURL","timeout","interceptors","request","use","config","headers","error","console","log","Promise","reject","response","data"],"sources":["/Users/robin/Desktop/vue-web/src/utils/request.js"],"sourcesContent":["import axios from 'axios';\nimport { getAccessToken } from '@/utils/auth'\n\nconst service = axios.create({\n  // baseURL: 'https://mock.apifox.cn/m1/2428381-0-default/admin-api',\n  baseURL: '/api',\n  timeout: 10000\n});\n\nservice.interceptors.request.use(\n  config => {\n    // 在请求发送之前对请求数据进行处理\n    if (getAccessToken()) {\n      config.headers['Authorization'] = 'Bearer ' + getAccessToken() // 携带token\n    }\n\n    return config;\n  },\n  error => {\n    // 对请求错误做些什么\n    console.log(error);\n    return Promise.reject(error);\n  }\n);\n\nservice.interceptors.response.use(\n  response => {\n    // 对响应数据进行处理\n    // ...\n\n    return response.data;\n  },\n  error => {\n    // 对响应错误做些什么\n    console.log(error);\n    return Promise.reject(error);\n  }\n);\n\nexport default service;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,cAAc;AAE7C,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC3B;EACAC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;AACX,CAAC,CAAC;AAEFH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BC,MAAM,IAAI;EACR;EACA,IAAIR,cAAc,CAAC,CAAC,EAAE;IACpBQ,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGT,cAAc,CAAC,CAAC,EAAC;EACjE;EAEA,OAAOQ,MAAM;AACf,CAAC,EACDE,KAAK,IAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAEDT,OAAO,CAACI,YAAY,CAACU,QAAQ,CAACR,GAAG,CAC/BQ,QAAQ,IAAI;EACV;EACA;;EAEA,OAAOA,QAAQ,CAACC,IAAI;AACtB,CAAC,EACDN,KAAK,IAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAeT,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}